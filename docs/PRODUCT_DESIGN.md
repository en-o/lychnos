# Lychnos（书灯）产品设计方案

> 在翻开书之前，先点一盏灯

## 一、产品概述

### 1.1 产品定位
**AI 驱动的个性化图书探索工具**

- 帮助用户快速了解一本书的核心内容
- 通过 AI 视觉化呈现书籍风格
- 记录阅读偏好，发现更多喜欢的书

### 1.2 核心价值
```
用户痛点              →    解决方案
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
不知道这本书讲什么      →    AI 分析书籍主题、风格、关键元素
不确定是否适合自己      →    视觉化封面 + 推荐理由
看过的书记不住         →    自动记录历史和兴趣偏好
```

## 二、目标用户

### 2.1 主要用户
- **书籍爱好者**：想快速筛选值得读的书
- **选书困难者**：不知道读什么书
- **时间有限者**：希望高效了解书籍内容

### 2.2 使用场景
1. **场景1：书店选书**
   拍下书名 → 输入系统 → 查看 AI 分析 → 决定是否购买

2. **场景2：图书馆借阅**
   看到书单 → 批量分析 → 筛选感兴趣的 → 去借阅

3. **场景3：个人书单管理**
   记录想读的书 → AI 分析 → 标记兴趣度 → 按优先级阅读

## 三、功能设计

### 3.1 核心流程（3 步完成）
```
1. 输入书名
   ↓
2. AI 分析（自动生成）
   - 书籍题材分类
   - 核心主题提炼
   - 风格基调描述
   - 关键元素列表
   - AI 生成封面图
   ↓
3. 兴趣反馈
   - 感兴趣 / 不感兴趣
   - 系统记录偏好
```

### 3.2 功能模块

#### 模块 1：首页 - 书籍分析
**交互流程**：
- 输入框：输入书名
- 按钮：开始分析
- 等待：AI 分析中（1-3分钟）
- 展示：分析结果 + AI 封面

**分析结果展示**：
```
┌─────────────────────────────────┐
│  《三体》                        │
│  ┌─────────────────────┐        │
│  │                     │        │
│  │   AI 生成的封面图   │        │
│  │                     │        │
│  └─────────────────────┘        │
│                                  │
│  题材：科幻小说                  │
│  主题：外星文明、人类命运        │
│  基调：宏大、悲壮、理性          │
│  关键元素：三体世界、黑暗森林   │
│                                  │
│  ✅ 感兴趣   ❌ 不感兴趣        │
└─────────────────────────────────┘
```

#### 模块 2：历史记录
- 列表展示已分析的书籍
- 按时间倒序排列
- 显示封面缩略图 + 书名
- 点击查看完整分析

#### 模块 3：偏好设置
- 查看我的兴趣偏好总结
- AI 根据历史推荐书籍（未来功能）

#### 模块 4：AI 模型配置
**简化设计**：
- 文本模型配置（用于分析书籍）
- 图片模型配置（用于生成封面）
- 支持自定义 API（OpenAI、通义千问、DeepSeek 等）

**配置字段**：
```
模型名称：[自定义名称]
API 类型：[OpenAI / 阿里通义 / DeepSeek]
API 地址：[https://api.openai.com]
API 密钥：[sk-xxx...] (加密存储)
模型名称：[gpt-4 / qwen-max]
```

#### 模块 5：用户中心
- 个人资料
- 修改密码
- 退出登录

### 3.3 功能优先级
```
P0（核心功能）：
  ✓ 书籍 AI 分析
  ✓ AI 封面生成
  ✓ 兴趣反馈
  ✓ 历史记录

P1（重要功能）：
  ✓ AI 模型配置
  ✓ 用户登录注册

P2（未来规划）：
  ○ 基于偏好的智能推荐
  ○ 书籍评分和笔记
  ○ 社交分享功能
```

## 四、技术架构

### 4.1 整体架构（极简版）
```
┌─────────────────────────────────────────────┐
│                  用户浏览器                  │
│            React + TypeScript               │
└────────────────┬────────────────────────────┘
                 │ HTTPS
┌────────────────▼────────────────────────────┐
│               Nginx 反向代理                │
│        (SSL + 超时 900s for AI)             │
└────────────────┬────────────────────────────┘
                 │
┌────────────────▼────────────────────────────┐
│         Spring Boot 后端服务                │
│  ┌─────────┐  ┌──────────┐  ┌──────────┐  │
│  │ 书籍分析│  │ 封面生成  │  │ 用户管理 │  │
│  └────┬────┘  └─────┬────┘  └────┬─────┘  │
│       │             │             │         │
│  ┌────▼─────────────▼─────────────▼──────┐ │
│  │        AI Client Factory              │ │
│  │   (动态切换 OpenAI/通义/DeepSeek)     │ │
│  └───────────────────────────────────────┘ │
└────────────────┬────────────────────────────┘
                 │
┌────────────────▼────────────────────────────┐
│              MySQL 数据库                   │
│  - 用户表                                   │
│  - 书籍分析表                               │
│  - 兴趣反馈表                               │
│  - AI 模型配置表                            │
└─────────────────────────────────────────────┘
```


## 八、未来规划

### 阶段 1：MVP（当前版本）✅
- ✅ 书籍 AI 分析
- ✅ AI 封面生成
- ✅ 兴趣反馈记录
- ✅ 用户自定义 AI 模型

---

### 阶段 2：官方服务 + 数据共享（3-6 个月）

#### 2.1 官方 API 服务
**从"用户自配"到"官方 + 自配"双模式**

```
┌─────────────────────────────────────────────┐
│           用户使用方式                       │
├─────────────────────────────────────────────┤
│ 方式 1：使用官方 API（推荐）                │
│   - 无需配置，开箱即用                      │
│   - 官方持续优化模型效果                    │
│   - 数据积累越多，分析越准确                │
│   - 付费/免费额度                           │
│                                              │
│ 方式 2：使用自己的 API（隐私优先）          │
│   - 完全自主控制                            │
│   - 数据不经过官方服务器                    │
│   - 支持离线部署                            │
└─────────────────────────────────────────────┘
```

**官方 API 优势**：
- 🎯 **无需配置**：注册即用，降低使用门槛
- 📈 **持续优化**：官方团队持续优化生成内容和图片效果
- 🗂️ **数据积累**：用户使用越多，官方数据越丰富，分析越精准
- 💡 **智能缓存**：同一本书无需重复调用 AI，节省成本

**数据积累机制**：
```
用户分析书籍 → 保存到官方数据库（可选）
                    ↓
            官方数据池越来越大
                    ↓
        新用户搜索已有书籍 → 直接返回缓存结果
                    ↓
            无需再调用 AI API
                    ↓
        使用官方 API 的用户无需配置即可使用
```

#### 2.2 数据分享权限设置
**尊重用户隐私，自主选择是否贡献数据**

```
┌─────────────────────────────────────────────┐
│      分析结果分享设置                        │
├─────────────────────────────────────────────┤
│  □ 愿意分享我的分析结果到公共数据库         │
│    - 分享后其他用户可以看到                 │
│    - 帮助社区积累优质内容                   │
│    - 获得贡献者徽章                         │
│                                              │
│  ☑ 仅供个人使用（默认）                     │
│    - 分析结果仅自己可见                     │
│    - 不会被其他用户使用                     │
│    - 完全隐私保护                           │
└─────────────────────────────────────────────┘
```

#### 2.3 社交分享功能
**一键分享到社交媒体**

支持分享到：
- 微信朋友圈（生成海报二维码）
- 微博
- Twitter / X
- Facebook
- 小红书

分享内容格式：
```
┌─────────────────────────────┐
│ 我在 Lychnos 发现了这本书： │
│                              │
│  《三体》                    │
│  [AI 生成的封面图]           │
│                              │
│  题材：科幻小说              │
│  推荐理由：宏大的宇宙视角... │
│                              │
│  👉 点击查看完整分析         │
└─────────────────────────────┘
```

---

### 阶段 3：UGC 内容生态（6-9 个月）

#### 3.1 用户贡献机制
**从 AI 生成到"AI + 人工精修"**

```
贡献类型：
1. 人工撰写的书籍分析
2. 手绘/设计的书籍封面
3. 优化 AI 生成的内容
```

**贡献流程**：
```
用户提交内容
    ↓
官方审核（质量把关）
    ↓
审核通过 → 发布到公共数据库
    ↓
┌────────────────────────────┐
│  贡献者获得奖励             │
├────────────────────────────┤
│  1. 首次贡献：礼品奖励     │
│     - 平台积分             │
│     - 实物礼品（书籍等）   │
│     - 会员特权             │
│                             │
│  2. 持续收益：使用分成     │
│     - 内容被使用次数统计   │
│     - 按公式计算小额回报   │
│     - 月度结算             │
└────────────────────────────┘
```

**收益计算公式示例**：
```
每月收益 = 基础分成 × 使用次数 × 质量系数

基础分成：每次使用 0.01 元
质量系数：
  - 高质量内容（5星）：1.5x
  - 普通内容（3-4星）：1.0x
  - 一般内容（1-2星）：0.5x

示例：
某用户贡献的《三体》分析被使用 1000 次
评分 5 星
收益 = 0.01 × 1000 × 1.5 = 15 元/月
```

#### 3.2 审核机制
```
提交 → 自动审核（AI 初筛）
           ↓
      人工审核（质量把关）
           ↓
    ┌──────┴──────┐
   通过          拒绝
    ↓              ↓
  发布         返回修改
```

审核标准：
- ✅ 内容真实准确
- ✅ 无广告营销信息
- ✅ 无抄袭侵权
- ✅ 封面美观得体
- ✅ 符合社区规范

---

### 阶段 4：悬赏任务系统（9-12 个月）

#### 4.1 悬赏发布
**帮助没有 AI 或效果不满意的用户获得优质内容**

```
┌─────────────────────────────────────────────┐
│           发布悬赏                           │
├─────────────────────────────────────────────┤
│  书名：《百年孤独》                          │
│  需求：                                      │
│    ☑ 书籍分析（题材、主题、风格、关键元素）│
│    ☑ AI 封面生成                            │
│    □ 手绘封面（加钱）                       │
│                                              │
│  悬赏金额：                                  │
│    ● 小额金钱：5 元                          │
│    ○ 平等交换：用我的分析换你的分析         │
│                                              │
│  截止时间：3 天后                            │
│                                              │
│  [发布悬赏]                                  │
└─────────────────────────────────────────────┘
```

#### 4.2 接单流程
```
┌─────────────────────────────────────────────┐
│        悬赏大厅（接任务）                    │
├─────────────────────────────────────────────┤
│                                              │
│  任务 #001                                   │
│  书名：《百年孤独》                          │
│  需求：分析 + AI 封面                        │
│  悬赏：5 元                                  │
│  状态：进行中（3 人已接单）                  │
│                                              │
│  ┌────────────┐                             │
│  │ [我要接单] │                             │
│  └────────────┘                             │
│                                              │
│  任务 #002                                   │
│  书名：《活着》                              │
│  需求：手绘封面                              │
│  悬赏：等价交换                              │
│  状态：待接单                                │
│                                              │
└─────────────────────────────────────────────┘
```

#### 4.3 完成机制
```
接单者提交成果
    ↓
发布者查看（可查看多个接单者成果）
    ↓
发布者选择最满意的一个
    ↓
┌────────────────────────────┐
│  悬赏完成                   │
├────────────────────────────┤
│  接单者获得：               │
│    - 悬赏金额（扣除平台费）│
│    - 信用评分 +10          │
│    - 任务完成徽章          │
│                             │
│  发布者获得：               │
│    - 优质分析内容          │
│    - 可选择是否公开        │
└────────────────────────────┘
```

**平台抽成**：
- 金钱悬赏：平台抽成 10%
- 等价交换：平台不抽成

**信用体系**：
```
接单者信用评级：
  ⭐⭐⭐⭐⭐ 金牌接单者（完成 50+ 任务，好评率 95%+）
  ⭐⭐⭐⭐ 优秀接单者（完成 20+ 任务，好评率 90%+）
  ⭐⭐⭐ 普通接单者（完成 5+ 任务，好评率 80%+）
  ⭐⭐ 新手接单者（完成 < 5 任务）
```

---

### 阶段 5：智能推荐与生态完善（12+ 个月）

#### 5.1 个性化推荐系统
**基于大数据 + AI 的智能推荐**

数据来源：
- 用户的兴趣反馈历史
- 用户分析过的书籍类型
- 官方数据池中的关联数据
- 其他用户的阅读偏好

推荐场景：
```
场景 1：基于历史偏好推荐
  "你分析过《三体》《流浪地球》，
   可能也会喜欢：《2001 太空漫游》"

场景 2：相似书籍发现
  "与《百年孤独》相似的魔幻现实主义作品：
   《霍乱时期的爱情》《白鹿原》"

场景 3：个人阅读报告
  "本月你关注了 15 本书，最喜欢的题材是：
   科幻（60%）、历史（30%）、哲学（10%）"
```

#### 5.2 内容生态完善
- 接入豆瓣、Goodreads 等书籍库（自动获取书籍基础信息）
- 支持扫码识别书籍（ISBN 条形码）
- 移动端 App（iOS + Android）
- 浏览器插件（豆瓣、京东等电商网站直接调用）

#### 5.3 社区功能
- 书籍评分和评论
- 好友书单推荐
- 阅读打卡
- 读书小组

---

## 九、商业模式

### 9.1 收入来源
```
1. 官方 API 订阅费用
   - 免费版：每月 10 次分析
   - 基础版：29 元/月，100 次分析
   - 专业版：99 元/月，500 次分析
   - 企业版：定制化服务

2. 悬赏任务平台抽成
   - 金钱悬赏抽成 10%
   - 年度交易额预估收入

3. UGC 内容流量分成
   - 用户贡献内容被使用产生收益
   - 平台与贡献者分成（平台 30%，贡献者 70%）

4. 广告合作（克制投放）
   - 出版社新书推荐位
   - 阅读 App 合作推广
```

### 9.2 成本结构
```
1. AI API 调用费用
   - 使用官方 API 的用户调用成本
   - 通过数据缓存降低重复调用

2. 服务器与带宽费用
   - 图片存储（CDN）
   - 数据库运维

3. 运营人员
   - 内容审核人员
   - 客服与社区管理

4. 奖励与分成支出
   - 用户贡献奖励
   - 悬赏任务分成
```

---

## 十、成功指标

### 核心指标
- **日活用户（DAU）**：1000+（6 个月）
- **书籍分析次数**：5000+ / 天（6 个月）
- **用户留存率（7 日）**：40%+
- **官方数据库书籍数量**：10,000+（12 个月）

### 社区活跃度
- **UGC 内容贡献数**：500+ / 月（9 个月）
- **悬赏任务发布数**：200+ / 月（12 个月）
- **任务完成率**：80%+

### 商业指标
- **付费用户转化率**：5%+
- **ARPU（人均收入）**：30 元 / 月
- **UGC 收益分成**：用户月均收入 50 元+

---

## 总结

**Lychnos（书灯）** 是一个从"工具"到"平台"的渐进式产品：

✅ **阶段 1（现在）**：AI 工具 - 用户自配 API，快速分析书籍
✅ **阶段 2（3-6 月）**：官方服务 - 提供官方 API，降低使用门槛，积累数据
✅ **阶段 3（6-9 月）**：UGC 生态 - 用户贡献内容，创作者获得收益
✅ **阶段 4（9-12 月）**：悬赏平台 - 连接供需双方，形成交易闭环
✅ **阶段 5（12+ 月）**：智能推荐 - 基于大数据的个性化服务

**演进路径**：
```
个人工具 → 官方服务 → 内容社区 → 交易平台 → 智能生态
```

**核心竞争力**：
1. **数据积累**：用户使用越多，数据越丰富，服务越精准
2. **双向价值**：既服务内容消费者，也赋能内容创作者
3. **闭环生态**：从需求发现 → 内容生产 → 价值分配，形成完整闭环

**一句话概括**：让 AI 成为你的私人图书向导，同时让每个人都能成为内容的创造者和受益者。
